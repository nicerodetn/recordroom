<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<div id="b-homedb" th:fragment="form">
    <div class="my-5">
        <div class="container">
            <h3 style="font-size:32px;" class="text-center col-12 b-latest-data">Old Register Master Creation</h3>
            <div class="row">
                <div class="container-fluid add-form-list">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="card">
                                <div class="card-body">
                                    <script>
                                        setTimeout(() => {
                                            let msg = document.getElementById("successMsg");
                                            if (msg) {
                                                msg.classList.remove("show");
                                                msg.remove();
                                            }
                                        }, 3000);

                                        setTimeout(() => {
                                            let msg = document.getElementById("errorMsg");
                                            if (msg) {
                                                msg.classList.remove("show");
                                                msg.remove();
                                            }
                                        }, 5000);
                                    </script>

                                    <div th:if="${successMessage}"
                                         class="alert alert-success alert-dismissible fade show text-center"
                                         id="successMsg"
                                         role="alert"
                                         th:text="${successMessage}">
                                    </div>

                                    <div th:if="${errorMessage}"
                                         class="alert alert-danger alert-dismissible fade show text-center"
                                         id="errorMsg"
                                         role="alert"
                                         th:text="${errorMessage}">
                                    </div>

                                    <form th:object="${record}" method="post"
                                          hx-post="/record/oldregister/save_master"
                                          hx-target="#b-homedb"
                                          hx-swap="outerHTML"
                                          class="row g-3 border p-3 rounded bg-light shadow-sm">

                                        <div class="col-12">
                                            <label class="form-label fw-bold">1. Record Serial Number</label>
                                            <input type="number" th:field="*{record_serial_no}"
                                                   class="form-control" required/>
                                        </div>

                                        <div class="col-12">
                                            <label class="form-label fw-bold">2. Year</label>
                                            <input type="number" th:field="*{year}"
                                                   class="form-control"
                                                   min="1900"
                                                   max="2100"
                                                   required/>
                                        </div>

                                        <div class="col-12">
                                            <label class="form-label fw-bold">3. Created Date</label>
                                            <input type="date" th:field="*{created_date}"
                                                   class="form-control" required/>
                                        </div>

                                        <div class="col-12">
                                            <label class="form-label fw-bold">4. Details of Record</label>
                                            <textarea th:field="*{details_of_record}"
                                                      class="form-control" rows="3" required></textarea>
                                        </div>

                                        <div class="col-12">
                                            <label class="form-label fw-bold">5. Types of Record</label></br>
                                            <select th:field="*{types_of_record}" class="form-select" required>
                                                <option value="">-- Select Option --</option>
                                                <option value="RSR">RSR</option>
                                                <option value="DR">SLR</option>
                                                <option value="LSR">SR</option>
                                            </select>
                                        </div>


                                        <div class="col-12">
                                            <label class="form-label fw-bold">6. Rack Number</label>
                                            <input type="number" th:field="*{rack_no}"
                                                   class="form-control" required/>
                                        </div>

                                        <div class="d-grid mt-4">
                                            <button type="submit" class="btn btn-primary btn-lg">ðŸ’¾ Save Record</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</html>